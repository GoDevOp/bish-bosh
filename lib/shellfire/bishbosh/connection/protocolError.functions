bishbosh_connection_error_any()
{
	local exitCode
	local message="$1"
	core_exitError $exitCode "Connection:$bishbosh_connection_id:$message"
}

bishbosh_connection_error_pingTimeout()
{
	bishbosh_connection_error_any $core_commandLine_exitCode_UNAVAILABLE "ping:timeout"
}

bishbosh_connection_error_readControlPacket()
{
	local controlPacket="$1"
	local message="$2"
	bishbosh_connection_error_any $core_commandLine_exitCode_PROTOCOL "read:$controlPacket:$message"
}

bishbosh_connection_error_unknownPacketIdentifier()
{
	bishbosh_connection_error_readControlPacket "$1" "Unknown packet identifier '$packetIdentifier'"
}

bishbosh_connection_error_ifRemainingLengthNot()
{
	local controlPacket="$1"
	local expectedLength=$2
	if [ $remainingLength -ne $expectedLength ]; then
		bishbosh_connection_error_readControlPacket "$controlPacket" "Remaining length '$remainingLength' should be $expectedLength"
	fi
}

bishbosh_connection_error_ifRemainingLengthNotZero()
{
	bishbosh_connection_error_ifRemainingLengthNot "$1" 0
}

bishbosh_connection_error_pingTimedOut()
{
	bishbosh_connection_error
}