bishbosh_connection_read_byte_initialise()
{		
	if [ $bishbosh_connection_supportsNonBlockingRead -eq 1 ]; then

		# TMOUT also works for ksh93, bash
		# But works only for auto-logout in pdksh and Busybox's Ash
		bishbosh_connection_read_byte_blocking()
		{
			set +e
			IFS=' ' read -r -u 5 $1
			# $? == 1 is EOF
			set -e
		}
		
		# ksh93, bash, mksh, zsh, Busybox's Ash
		bishbosh_connection_read_byte_nonBlocking()
		{
			set +e
			IFS=' ' read -r -u 5 -t $bishbosh_readLatency_inFractionalSeconds $1
			set -e
		}
		
		bishbosh_connection_read_byte_nonBlockingInitialise()
		{
			:
		}
		
	else
		# dash, pdksh, other sh
		
		bishbosh_connection_read_byte_blocking()
		{
			set +e
			IFS=' ' read -r $1 <&5
			# $? == 1 is EOF
			set -e
		}

		# Relies on bishbosh_connection_background_processingLoopReadInterrupter, which fires HUP on a timer
		bishbosh_connection_read_byte_nonBlocking()
		{
			trap 'true' HUP
			set +e
			IFS=' ' read -r $1 <&5
			set -e
			trap '' HUP
		}
		
		bishbosh_connection_read_byte_nonBlockingInitialise()
		{
			trap '' HUP
		}
	fi
}
