core_usesIn bishbosh/connection/read/byte pipe
_bishbosh_connection_read_loop_pipe_initialise()
{
	bishbosh_connection_read_byte_blocking=bishbosh_connection_read_byte_pipe_blocking
	bishbosh_connection_read_byte_nonBlocking=bishbosh_connection_read_byte_pipe_nonBlocking
}

_bishbosh_connection_read_loop_pipe()
{
	"$@" "$bishbosh_connection_fromServerFifo" >"$bishbosh_connection_fromHexConversionFifo" &
	core_children_killOnExit $!
	
	{
		bishbosh_connection_read_expectingCONNACK
		
		while $bishbosh_connection_continue
		do
			bishbosh_connection_body
		done
		
	} <"$bishbosh_connection_fromHexConversionFifo"
}

_bishbosh_connection_read_loop_pipe_stdbufGnuOd()
{
	local pathToStdbuf="$1"
	local pathToOd="$2"
	shift 2
	
	_bishbosh_connection_read_loop_pipe "$pathToStdbuf" -i 0 -o 0 -e 0 "$pathToOd" -A n -t u1 -w1 -v
}

_bishbosh_connection_read_loop_pipe_unbufferGnuOd()
{
	local pathToUnbuffer="$1"
	local pathToOd="$2"
	shift 2
	
	_bishbosh_connection_read_loop_pipe "$pathToUnbuffer" "$pathToOd" -A n -t u1 -w1 -v
}

_bishbosh_connection_read_loop_pipe_unbufferHexdump()
{
	local pathToUnbuffer="$1"
	local pathToHexdump="$2"
	shift 2
	
	_bishbosh_connection_read_loop_pipe "$pathToUnbuffer" "$pathToHexdump" -v -e '"%u\d"'
}
