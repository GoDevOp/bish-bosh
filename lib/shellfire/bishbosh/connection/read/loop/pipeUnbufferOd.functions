core_usesIn bishbosh/connection/read/loop pipe

# eg https://unix.stackexchange.com/questions/25372/turn-off-buffering-in-pipe?rq=1
# Only works GNU od, as we need the width option
# Problematic, as does not exit if nc could not make a connection
bishbosh_connection_read_loop_pipeUnbufferOd_check()
{
	if core_compatibility_whichNoOutput unbuffer; then
		if core_compatibility_whichNoOutput od; then
			if od --version 2>&1 | grep -q '^od (GNU coreutils) '; then
				return 0
			fi
		fi
	fi
	return 1
}

bishbosh_connection_read_loop_pipeUnbufferOd_initialise()
{
	_bishbosh_connection_read_loop_pipe_initialise
}

bishbosh_connection_read_loop_pipeUnbufferOd()
{
	_bishbosh_connection_read_loop_pipe_unbufferGnuOd unbuffer od
}
